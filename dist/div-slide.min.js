"use strict";function Slideshow(e){var t=this,n=e.container,i=void 0===n?"#slideshow":n,r=e.slideshowSelector,o=void 0===r?".slideshow":r,s=e.slideSelector,l=void 0===s?".slide":s,d=e.currentSelector,a=void 0===d?".current":d,u=(e.duration,e.cycle),c=void 0===u||u,v=e.swipe,h=void 0!==v&&v,f=e.throwsOpenIndexError,w=void 0!==f&&f;if("string"==typeof i&&(i=document.querySelector(i)),!(i instanceof HTMLElement))throw new Error("The slideshow container must be a valid DOM element.");var g=this,p=o.substr(1),S=(l.substr(1),a.substr(1));i.classList.contains(p)||i.classList.add(p);var m=i.querySelectorAll(l),E=function(){var e=!0,t=!1,n=void 0;try{for(var i,r=m[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(o.classList.contains(S))return o}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return m[0]||null}(),y=h&&"function"==typeof SwipeEvent?new SwipeEvent({element:i,itemSelector:l,activeSelector:a}):null,C=function keyboardNavigation(e){if(g.isOpen())switch(e.key||e.which||e.keyCode||0){case 37:g.prev();break;case 39:g.next();break;case 36:g.set(0);break;case 35:g.set(-1)}},b=function swipeNavigation(e){var t=e.detail.direction||e.direction||null;"left"===t?g.prev():"right"===t&&g.next()};function navigateSlide(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;setCurrentSlide(m[keepInBound(getSlideIndex(E)+e,t)])}function keepInBound(e){return((arguments.length>1&&void 0!==arguments[1]?arguments[1]:c)&&e<0?m.length+e+m.length:e)%m.length}function getSlideIndex(e){return Array.prototype.indexOf.call(m,e)}function setCurrentSlide(e){null!=E&&E.classList.remove(S),e.classList.add(S),E=e}(function setListenersFn(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.addEventListener("keydown",C),y&&(y.attach(),i.addEventListener("swipe",b)),setListenersFn})(!0),function(){if("MutationObserver"in window){var e=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&(m=i.querySelectorAll(l),e.removedNodes&&E in e.removedNodes.values()&&(E=m[0]||null))})});return e.observe(i,{childList:!0}),e}}();this.prev=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=E;navigateSlide(-1,e);var r=null;return"function"!=typeof window.CustomEvent?(r=document.createEvent("slideshow:prev")).initCustomEvent("slideshow:prev",!1,!1,{current:E,next:n,active:g.getCurrentSlide()}):r=new CustomEvent("slideshow:prev",{detail:{current:E,next:n,active:g.getCurrentSlide()}}),i.dispatchEvent(r),t},this.next=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=E;navigateSlide(1,e);var r=null;return"function"!=typeof window.CustomEvent?(r=document.createEvent("slideshow:next")).initCustomEvent("slideshow:next",!1,!1,{current:E,prev:n,active:g.getCurrentSlide()}):r=new CustomEvent("slideshow:next",{detail:{current:E,prev:n,active:g.getCurrentSlide()}}),i.dispatchEvent(r),t},this.set=function(e){if(!e)throw new Error("The given element is not a valid value. Please, insert an integer or a DOM element.");if("number"==typeof e){if(w){if(e>m.length-1||Math.abs(e)>m.length-1)throw new Error("The element #".concat(e," cannot be found."))}else e=keepInBound(e);e=m[e]}else{if(!(e instanceof HTMLElement))throw new Error("The given element is not a valid value. Please, insert an integer or a DOM element.");if(getSlideIndex(e)<0)throw new Error("The given element is not in this gallery.")}var n=E;setCurrentSlide(e);var r=null;return"function"!=typeof window.CustomEvent?(r=document.createEvent("slideshow:setted")).initCustomEvent("slideshow:setted",!1,!1,{current:E,old:n,active:g.getCurrentSlide()}):r=new CustomEvent("slideshow:setted",{detail:{current:E,old:n,active:g.getCurrentSlide()}}),i.dispatchEvent(r),t},this.updateSlides=function(){return m=i.querySelectorAll(l),E in m||(E=m[0]||null),t},this.getContainer=function(){return i},this.getCurrentSlide=function(){return E},this.getSwipeHandler=function(){return y}}
//# sourceMappingURL=div-slide.js.map
